<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting Started • formr</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started">
<meta name="description" content="Installation, Authentication, and Workflow">
<meta property="og:description" content="Installation, Authentication, and Workflow">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">formr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.12.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/getting-started.html">Getting Started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials">
<li><h6 class="dropdown-header" data-toc-skip>Basics</h6></li>
    <li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Get your Results</h6></li>
    <li><a class="dropdown-item" href="../articles/fetch-and-process-results.html">Fetch &amp; Process Results</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Project (Run) Management</h6></li>
    <li><a class="dropdown-item" href="../articles/manage-your-projects.html">Manage your Projects</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Everything API</h6></li>
    <li><a class="dropdown-item" href="../articles/manage-your-runs.html">Manage your Runs</a></li>
    <li><a class="dropdown-item" href="../articles/manage-your-sessions.html">Manage your Sessions</a></li>
    <li><a class="dropdown-item" href="../articles/manage-your-surveys.html">Manage your Surveys</a></li>
    <li><a class="dropdown-item" href="../articles/manage-your-files.html">Manage your Files</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rubenarslan/formr" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Getting Started</h1>
            
      

      <div class="d-none name"><code>getting-started.Rmd</code></div>
    </div>

    
    
<p>The <code>formr</code> R package is the companion to the <a href="https://formr.org" class="external-link">formr.org</a> survey framework. It allows you
to:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Manage Projects:</strong> Sync surveys and files between
your computer and the server.</li>
<li>
<strong>Fetch Data:</strong> Download and process results for
analysis.</li>
<li>
<strong>Control Logic:</strong> Use the API <em>within</em> a Run to
check user progress or previous answers dynamically.</li>
</ol>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the package from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"rubenarslan/formr"</span><span class="op">)</span></span></code></pre></div>
<p>The package is automatically installed within your formr server. Just
use:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://rubenarslan.github.io/formr/">formr</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="the-two-ways-of-connecting">The “Two Ways of Connecting”<a class="anchor" aria-label="anchor" href="#the-two-ways-of-connecting"></a>
</h2>
<p>The package currently contains two ways of interacting with the
formr-server. It is helpful to know which one to use:</p>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th align="left">Feature</th>
<th align="left"><strong>New API (V1)</strong></th>
<th align="left"><strong>Classic</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Prefix</strong></td>
<td align="left"><code>formr_api_*</code></td>
<td align="left"><code>formr_*</code></td>
</tr>
<tr class="even">
<td align="left"><strong>Authentication</strong></td>
<td align="left">OAuth / Access Tokens</td>
<td align="left">Email &amp; Password</td>
</tr>
<tr class="odd">
<td align="left"><strong>Primary Use</strong></td>
<td align="left">Project Management, Live Logic within your Run, Modern
Data Fetching</td>
<td align="left">Legacy Data Fetching</td>
</tr>
</tbody>
</table>
<p><strong>Recommendation:</strong> Use the <strong>API
(<code>formr_api_*</code>)</strong> for all new projects.</p>
<hr>
</div>
<div class="section level2">
<h2 id="authentication">Authentication<a class="anchor" aria-label="anchor" href="#authentication"></a>
</h2>
<p>To use the API features (fetching results, managing files), you must
first authenticate.</p>
<div class="section level3">
<h3 id="local-setup-one-time">1. Local Setup (One-time)<a class="anchor" aria-label="anchor" href="#local-setup-one-time"></a>
</h3>
<p>You can store your credentials securely in your system’s keyring so
you don’t have to type them every time.</p>
<div class="section level4">
<h4 id="save-your-api-credentials">1.1 Save your API Credentials<a class="anchor" aria-label="anchor" href="#save-your-api-credentials"></a>
</h4>
<ol style="list-style-type: decimal">
<li>Log in to formr.org (or your instance).</li>
<li>Go to <strong>Account &gt; API Settings</strong>.</li>
<li>Create a Client ID and Secret.</li>
<li>Run the following code <strong>once</strong> in your R console:</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Store your credentials once</span></span>
<span><span class="co"># This saves them securely in your OS credential store</span></span>
<span><span class="fu"><a href="../reference/formr_store_keys.html">formr_store_keys</a></span><span class="op">(</span></span>
<span>  host <span class="op">=</span> <span class="st">"https://api.formr.org"</span>, </span>
<span>  client_id <span class="op">=</span> <span class="st">"YOUR_CLIENT_ID"</span>, </span>
<span>  client_secret <span class="op">=</span> <span class="st">"YOUR_CLIENT_SECRET"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="save-your-regular-user-credentials-classic">1.2 Save your regular User Credentials (Classic)<a class="anchor" aria-label="anchor" href="#save-your-regular-user-credentials-classic"></a>
</h4>
<p>If you plan to use the “Classic” functions
(e.g. <code><a href="../reference/formr_results.html">formr_results()</a></code>, <code><a href="../reference/formr_raw_results.html">formr_raw_results()</a></code>),
you need to store your email and password. This allows you to create a
shorthand name for your account to log in securely without putting
passwords in your script.</p>
<ol style="list-style-type: decimal">
<li>Run the following code <strong>once</strong> in your R console.</li>
<li>You will be prompted to enter your email and password (and
optionally a 2FA secret) securely.</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Store your email/password under a shorthand name (e.g. "main_account")</span></span>
<span><span class="fu"><a href="../reference/formr_store_keys.html">formr_store_keys</a></span><span class="op">(</span><span class="st">"main_account"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="authenticating-in-scripts">2. Authenticating in Scripts<a class="anchor" aria-label="anchor" href="#authenticating-in-scripts"></a>
</h3>
<p>Once your keys are stored, you simply authenticate at the start of
your session:</p>
<div class="section level4">
<h4 id="thru-the-api">1.1 Thru the API<a class="anchor" aria-label="anchor" href="#thru-the-api"></a>
</h4>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Automatically finds your stored keys</span></span>
<span><span class="fu"><a href="../reference/formr_api_authenticate.html">formr_api_authenticate</a></span><span class="op">(</span>host <span class="op">=</span> <span class="st">"https://api.formr.org"</span><span class="op">)</span> <span class="co"># or your custom URL!</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="with-your-user-credentials-classic">1.2 With your User Credentials (Classic)<a class="anchor" aria-label="anchor" href="#with-your-user-credentials-classic"></a>
</h4>
<p>Once stored, you can connect in your scripts using this
shorthand:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Connect using the stored credentials</span></span>
<span><span class="fu"><a href="../reference/formr_connect.html">formr_connect</a></span><span class="op">(</span><span class="st">"main_account"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="authenticating-inside-formr-runs">3. Authenticating <em>Inside</em> formr Runs<a class="anchor" aria-label="anchor" href="#authenticating-inside-formr-runs"></a>
</h3>
<p>You can also use the API functions within the R-Code of your actual
survey run (e.g., to look up previous results). In this environment, you
do not need credentials; the system provides a temporary context. Just
run:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Inside a formr Run, simply call:</span></span>
<span><span class="fu"><a href="../reference/formr_api_authenticate.html">formr_api_authenticate</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="workflow-examples">Workflow Examples<a class="anchor" aria-label="anchor" href="#workflow-examples"></a>
</h2>
<div class="section level3">
<h3 id="project-management-push-pull">Project Management (Push &amp; Pull)<a class="anchor" aria-label="anchor" href="#project-management-push-pull"></a>
</h3>
<p>The new API allows you to work on your survey structure and files
locally and sync them to the server. Learn more about how this can save
you time in the <a href="manage-your-projects.html">Manage your
Projects</a> Tutorial.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Download a project (surveys and files) to your local folder</span></span>
<span><span class="fu"><a href="../reference/formr_api_pull_project.html">formr_api_pull_project</a></span><span class="op">(</span><span class="st">"daily_diary"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Upload changes back to the server</span></span>
<span><span class="fu"><a href="../reference/formr_api_push_project.html">formr_api_push_project</a></span><span class="op">(</span><span class="st">"daily_diary"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="fetching-results">Fetching Results<a class="anchor" aria-label="anchor" href="#fetching-results"></a>
</h3>
<p>The <code><a href="../reference/formr_api_results.html">formr_api_results()</a></code> function is the modern way to
get data. It automatically recognizes data types, reverses items, and
aggregates scales. Learn how it works in the <a href="fetch-and-process-results.html">Fetch &amp; Process Results</a>
Tutorial.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fetch and process</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/formr_api_results.html">formr_api_results</a></span><span class="op">(</span><span class="st">"daily_diary"</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="token-management-security">Token Management &amp; Security<a class="anchor" aria-label="anchor" href="#token-management-security"></a>
</h2>
<p>When you run <code><a href="../reference/formr_api_authenticate.html">formr_api_authenticate()</a></code>, it provides you
with an Access Token.</p>
<ul>
<li>
<strong>Validity:</strong> The token is valid for <strong>one
hour</strong>. You will need to rerun authentication after this
period.</li>
<li>
<strong>On the Server:</strong> When running code <em>inside</em> a
formr survey, the token is invalidated automatically when the request
finishes.</li>
<li>
<strong>Local Device:</strong> When running code on your laptop, the
token remains valid until it expires or you revoke it.</li>
</ul>
<p>At the end of your analysis session, you may revoke the token
manually:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/formr_api_logout.html">formr_api_logout</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ruben Arslan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
